<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Storage Interrupt - Strawberry Pi üçë</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://ese519-strawberrypi.github.io/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.4dfe70b56bf520602ef93963a5dcf3bb73abe79f6ba6ad2912571a307fbe0d4f.css">
  

  

</head>

<body class='page page-work-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        
        <span>home</span>
      </a>
    </li>
    
    <li class="menu-item-design">
      <a href="/design/">
        
        <span>Design</span>
      </a>
    </li>
    
    <li class="menu-item-features">
      <a href="/features/">
        
        <span>Features</span>
      </a>
    </li>
    
    <li class="menu-item-highlight">
      <a href="/highlight/">
        
        <span>Highlight</span>
      </a>
    </li>
    
    <li class="menu-item-q&amp;a">
      <a href="/qa/">
        
        <span>Q&amp;A</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/">
        
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
  <div id="wrapper" class="wrapper">
    <div class='header header-absolute'>
  <div class="container">
    <div class="logo">
      <a href="https://ese519-strawberrypi.github.io/"><img height=29px width=36px alt="Hugo Hero" src="/images/logo.jpeg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://ese519-strawberrypi.github.io/"><img height=36px width=36px alt="Hugo Hero" src="/images/logo.jpeg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        
        <span>home</span>
      </a>
    </li>
    
    <li class="menu-item-design">
      <a href="/design/">
        
        <span>Design</span>
      </a>
    </li>
    
    <li class="menu-item-features">
      <a href="/features/">
        
        <span>Features</span>
      </a>
    </li>
    
    <li class="menu-item-highlight">
      <a href="/highlight/">
        
        <span>Highlight</span>
      </a>
    </li>
    
    <li class="menu-item-q&amp;a">
      <a href="/qa/">
        
        <span>Q&amp;A</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/">
        
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button" aria-label="Toggle Menu">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>
    
<div id="hero" class="hero-image hero-image-setheight" style="background-image: url('https://unsplash.com/photos/GNyjCePVRs8/download?ixid=MnwxMjA3fDB8MXxzZWFyY2h8Mnx8aGFyZGRyaXZlfGVufDB8fHx8MTY3MTg1MTAxNw&amp;force=true')">
  <div class="container ">
    <div class="hero-text">
      <span class="hero-section">q&amp;a</span>
      <h1>Storage Interrupt</h1>
      <p>Calling additional API to disable interrupts and recover.</p>
    </div>
  </div>
</div>
  
<div class="container pt-4 pt-md-10 pb-4 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <div class="work work-single">
        <div class="content"><p>Calling additional API <code>save_and_disable_interrupts</code> and <code>restore_interrupts</code> to disable interrupts and recover them.</p>
<p>When trying to store data in flash memory, we found out that after erasing the flash memory for a certain address range, we are still unable to write it. After checking the Internet, we found out that the interrupts from other read or write requests from the program between these two commands may make the saving or loading data impassible to finish or complete correctly.  Thus, we. add two system functions to avoid the impact from interrupts:</p>
<p><code>save_and_disable_interrupts</code> and <code>restore_interrupts</code> . The first function is to disable any potential interrupts and store current situations in storage. The latter function is to recover from the disabled situation and resume normal work. We could then safely read or write flash memory between calling these two functions.</p>
</div>
      </div>
    </div>
    
  </div>
</div>

  </div>

  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="footer-inner">
          
          <ul class="social">
              
                  <li><a href="https://github.com/ESE519-StrawberryPi" target="blank"><img width="20" height="20" src="/social/github.svg" title="Github" alt="Github" /></a></li>
              
          </ul>
          
          <ul class="footer-menu">

            <li class="copyright">¬© 2022 Strawberry Pi üçë</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            
            
            <li><strong>Email: </strong><a href="mailto:haozewu@seas.upenn.edu">
                haozewu@seas.upenn.edu</a></li>
              
          </ul>



        </div>
      </div>
    </div>
  </div>
</div>

  

  




  <script type="text/javascript" src="/js/services.min.9107b65a7df0422d8a274963e6b560062a6cdf62185570cfd584b43defa67279.js"></script>
  


  
  <script type="text/javascript" src="/js/scripts.min.8504133605a277da18f0d58cfd2e90d154962f4a961543a6e2f0a459a2d05462.js"></script>
  

  
  
  
    
  


</body>
</html>
